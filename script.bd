DROP DATABASE [IF EXISTS] vacunatorio;

create database vacunatorio;

use vacunatorio;

create table Paciente(
rut varchar(13) not null primary key,
nombre varchar(255) not null,
fecha_nacimiento datetime not null
);

create table Vacuna (
nombre_enfermedad varchar(255) not null primary key,
fecha_registro DATE NOT NULL DEFAULT CURRENT_TIMESTAMP
);

create table Recibe (
rut_paciente varchar(255) not null references Paciente(rut),
nombre_enfermedad varchar(255) not null references Vacuna(nombre_enfermedad),
fecha_vacuna DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
primary key (rut_paciente, nombre_enfermedad, fecha_vacuna)
);

